# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL

## –ü—Ä–æ–±–ª–µ–º–∞
–í –∫–∞—Ä—Ç–µ —Å–∞–π—Ç–∞ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–µ–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

## –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ sitemap.xml** - –ø—Ä–æ–µ–∫—Ç—ã –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å –¥–≤–∞–∂–¥—ã (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL** –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç [slug]** –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª 404, –Ω–æ –º–æ–≥ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è
4. **Trailing slash** –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –≤ middleware
5. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π URL** –≤ robots.txt

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω sitemap.ts
```typescript
// –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
const projectRoutes: MetadataRoute.Sitemap = staticProjects.map(slug => ({
  url: `${siteUrl}/projects/${slug}`,
  lastModified: new Date(),
  changeFrequency: 'monthly',
  priority: 0.7,
}));

// –£–¥–∞–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –∏–∑ sitemap
return [
  ...staticRoutes,
  ...projectRoutes,  // –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
  ...postRoutes,
];
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω robots.ts
```typescript
export default function robots(): MetadataRoute.Robots {
  const base = (process.env.NEXT_PUBLIC_SITE_URL || 'https://webdad.by').replace(/\/$/, '');
  return {
    rules: {
      userAgent: '*',
      allow: '/',
      disallow: [
        '/api/preview',
        '/projects/[slug]',  // –ò—Å–∫–ª—é—á–∞–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç
        '/_next/',
        '/api/',
      ],
    },
    sitemap: `${base}/sitemap.xml`,
    host: base,
  };
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ URL –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```typescript
const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://webdad.by';

export const metadata: Metadata = {
  title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã',
  description: '–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã',
  alternates: {
    canonical: `${siteUrl}/projects/addseller`,
  },
  openGraph: {
    url: `${siteUrl}/projects/addseller`,
    // ... –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
  },
  robots: {
    index: true,
    follow: true,
  },
};
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω middleware
```typescript
// –†–µ–¥–∏—Ä–µ–∫—Ç trailing slash –∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É URL (–∫—Ä–æ–º–µ –∫–æ—Ä–Ω—è)
if (pathname.length > 1 && pathname.endsWith('/')) {
  const url = request.nextUrl.clone();
  url.pathname = pathname.slice(0, -1);
  return NextResponse.redirect(url, 301);
}
```

### 5. –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ canonical.ts
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º–∏ URL:
- `getCanonicalUrl(path)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ URL
- `createCanonicalMetadata()` - —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º URL
- `isCanonicalUrl()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- `normalizeToCanonical()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è URL
- `CANONICAL_PAGES` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—Ç—Ä–∞–Ω–∏—Ü –≤ sitemap.xml
2. **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ URL** –≤–æ –≤—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü
3. **–ò—Å–∫–ª—é—á–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç** –∏–∑ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ robots.txt
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç** trailing slash –∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É –≤–∏–¥—É
5. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π URL** –≤ robots.txt

### üìä –£–ª—É—á—à–µ–Ω–∏—è SEO:
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ sitemap —Ç–µ–ø–µ—Ä—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ
- –ü–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª—É—á–∞—é—Ç —á–µ—Ç–∫–∏–µ —É–∫–∞–∑–∞–Ω–∏—è –æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö URL
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã canonical.ts

### –î–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:
```typescript
import { createCanonicalMetadata } from '@lib/canonical';

export const metadata = createCanonicalMetadata(
  '/projects/new-project',
  '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞',
  '–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞',
  {
    openGraph: {
      images: [{ url: '/projects/new-project/image.jpg' }],
      type: 'article',
    }
  }
);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ URL:
```typescript
import { isCanonicalUrl, normalizeToCanonical } from '@lib/canonical';

const url = 'https://webdad.by/projects/test/';
console.log(isCanonicalUrl(url)); // false
console.log(normalizeToCanonical(url)); // 'https://webdad.by/projects/test'
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ sitemap:
```bash
curl https://webdad.by/sitemap.xml
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ robots.txt:
```bash
curl https://webdad.by/robots.txt
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö URL:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Google Search Console –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `createCanonicalMetadata()` –¥–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ sitemap** –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ middleware
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** Google Search Console –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º–∏ URL
5. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ** `CANONICAL_PAGES` –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
